<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <p>Rock Paper Scissors</p>
     <!--  <button onclick="
            const randomNumber = Math.random()
            if(randomNumber >= 0 && randomNumber < 1/3) {
                console.log('Rock');
            }else if(randomNumber >= 1/3 && randomNumber < 2/3){
                console.log('Paper');
            }else if(randomNumber >= 2/3 && randomNumber <= 1){
                console.log('Scissors');
            }
                ">Rock</button> -->
            
            <button onclick="
                playGame('Rock')
                ">Rock</button> 
                

        <button onclick="
            playGame('Paper');
            ">Paper</button>


        <button onclick="
           // console.log(pickComputerMove());
            playGame('Scissors');
        ">Scissors</button>
        <!--We will use DOM to put the result and moves to the p elements-->
        <p class="js-result"></p>
        <p class="js-moves"></p>
        <p class="js-score"></p>


        <button onclick="
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            localStorage.removeItem('score');
            updateScoreElement();
        ">Reset Score</button>

        <script>
        let score = JSON.parse(localStorage.getItem('score')) || {   // get from localStorage to use in js
                wins: 0,
                losses: 0,
                ties: 0
            };

            updateScoreElement();
/*
        if(!score){
            score = {
                wins: 0,
                losses: 0,
                ties: 0
            }
        };

            */
            function playGame(playerMove){
                const computerMove = pickComputerMove();      // this is outside js function scope.

                let result = '';

                if(playerMove === 'Scissors'){
                    if(computerMove === 'Rock') {
                    result = 'You lose.';
                }else if(computerMove === 'Paper') {
                    result = 'You win.'
                }else if(computerMove === 'Scissors') {
                    result = 'Tie.';
                };


                } else if (playerMove === 'Paper') {
                    if (computerMove === 'Rock') {
                            result = 'You win.';
                        }else if(computerMove === 'Paper') {
                            result = 'Tie.'
                        }else if(computerMove === 'Scissors') {
                            result = 'You lose.';
                        };


                } else if (playerMove === 'Rock') {

                } if (computerMove === 'Rock') {
                        result = 'Tie.';
                    }else if(computerMove === 'Paper') {
                        result = 'You lose.'
                    }else if(computerMove === 'Scissors') {
                        result = 'You win.';
                    };
               
                if(result === 'You win.'){
                    score.wins += 1;
                } else if(result === 'You lose.'){
                    score.losses += 1;
                } else if(result === 'Tie.'){
                    score.ties += 1;
                }

                localStorage.setItem('score', JSON.stringify(score));

                updateScoreElement();

                document.querySelector('.js-result').innerHTML = result;

                document.querySelector('.js-moves')
                    .innerHTML = `You ${playerMove} - ${computerMove} Computer`;

                   /* alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`); */
        
            };

            function updateScoreElement() {
                document.querySelector('.js-score')
                .innerHTML = `Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`;
            };


            function pickComputerMove(){
                const randomNumber = Math.random();
                let computerMove = '';                        // this one belong inside the function scope.

                    if(randomNumber >= 0 && randomNumber < 1/3) {
                        computerMove = 'Rock';
                    }else if(randomNumber >= 1/3 && randomNumber < 2/3){
                        computerMove ='Paper';
                    }else if(randomNumber >= 2/3 && randomNumber <= 1){
                        computerMove = 'Scissors';
                    };

                    return computerMove;                    // return value to where the function is being called.
                                                            // where this value(stored in a variable) can be used for some other purpose.

            };


        </script>
    </body>
</html>